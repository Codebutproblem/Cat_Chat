extends ../../layouts/default.pug

block style 
    //- ViewerJs
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.11.6/viewer.css")
    link(rel="stylesheet", href="/client/css/main.css")
block main
    .main
        div(room-id= room_id)
        .chat(my-id=user.id)
            .inner-head
                if(stranger)
                    div(stranger-id=stranger.id)
                    .inner-avatar 
                        .border-image 
                            img(src= stranger.avatar)
                        span(class=(stranger.statusOnline == "online" ? "online" : ""))
                    .inner-name #{stranger.fullName}
                    .actions-button 
                        button(class="report-btn btn btn-danger") Report
            .inner-body
            .inner-foot
                .inner-preview
                    input(type="file" multiple accept="image/*" id="file-upload-image" name="file-images" class="d-none")
                    div(class="preview-images")                  
                form(action="", class="inner-form d-flex align-items-center ")
                    label(
                            class="form-btn me-2"
                            for="file-upload-image"
                            )
                        <i class="fa-solid fa-image"></i>
                    input(
                        type="text"
                        placeholder="Aa..."
                        name="content"
                    )
                    span(class="form-btn ms-2 button-icon")
                        <i class="fa-solid fa-face-smile"></i>
                    
                    button(class="form-btn mx-2")
                        <i class="fa-solid fa-paper-plane"></i>
    div(class="tooltip" role="tooltip")
        emoji-picker
    audio(controls id="audio-message" class="d-none")
        source(src="/client/mp3/line-messenger.mp3" type="audio/mpeg")
block script 
    //- Emoji Icon
    script(type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js")
    //- Viewer js
    script(src="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.11.6/viewer.js") 
    script(type="module" src="/client/js/chat.js") 
    script(type="module" src="/client/js/temporary_chat.js")

                    